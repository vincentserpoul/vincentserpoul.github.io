<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Sql on VS tech corner</title>
    <link>https://vincentserpoul.github.io/tags/sql/index.xml</link>
    <description>Recent content in Sql on VS tech corner</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <atom:link href="https://vincentserpoul.github.io/tags/sql/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Golang and Oracle</title>
      <link>https://vincentserpoul.github.io/post/golang-playwithsql-oracle/</link>
      <pubDate>Tue, 27 Dec 2016 00:44:00 +0800</pubDate>
      
      <guid>https://vincentserpoul.github.io/post/golang-playwithsql-oracle/</guid>
      <description>

&lt;h2 id=&#34;which-library&#34;&gt;Which library&lt;/h2&gt;

&lt;p&gt;To this day, the most up to date library seems to be &lt;a href=&#34;https://github.com/rana/ora&#34;&gt;rana/ora&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;how-to-install-linux-macosx&#34;&gt;How to install (linux &amp;amp; macosx)&lt;/h2&gt;

&lt;p&gt;Download &lt;a href=&#34;http://www.oracle.com/technetwork/topics/linuxx86-64soft-092277.html&#34;&gt;Oracle Instant Client for linux x64&lt;/a&gt;: both packages Basic and SDK
Unzip each of them in the same folder /opt/oracle&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;mkdir -p /opt/oracle
cd /opt/oracle
unzip ~/Downloads/instantclient-basiclite-linux.x64-12.2.0.1.0.zip
unzip ~/Downloads/instantclient-sdk-linux.x64-12.2.0.1.0.zip
cd /opt/oracle/instantclient_12_1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Add the necessary env variables and paths:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;# Oracle
export LD_LIBRARY_PATH=/opt/oracle/instantclient_12_2:$LD_LIBRARY_PATH
export PKG_CONFIG_PATH=/opt/oracle
export ORACLE_HOME=$LD_LIBRARY_PATH
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;copy from the &lt;a href=&#34;https://github.com/rana/ora/tree/v4/contrib&#34;&gt;go package ./contrib/oci8.pc&lt;/a&gt; to /opt/oracle and modify its content to:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;prefix=/opt/oracle/instantclient_12_2
version=12.2
build=client64

libdir=${prefix}
includedir=${prefix}/sdk/include

Name: oci8
Description: Oracle database engine
Version: ${version}
Libs: -L${libdir} -lclntsh
Libs.private:
Cflags: -I${includedir}
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;on-linux&#34;&gt;On linux&lt;/h2&gt;

&lt;p&gt;Follow the &lt;a href=&#34;http://www.oracle.com/technetwork/topics/linuxx86-64soft-092277.html#ic_x64_inst&#34;&gt;instructions&lt;/a&gt; from Oracle:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;ln -s /opt/oracle/instantclient_12_2/libclntsh.so.12.1 /opt/oracle/instantclient_12_2/libclntsh.so
ln -s /opt/oracle/instantclient_12_2/libocci.so.12.1 /opt/oracle/instantclient_12_2/libocci.so
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;on-macosx&#34;&gt;On macosx&lt;/h2&gt;

&lt;p&gt;Follow the instructions from Oracle:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;ln -s /opt/oracle/instantclient_12_2/libclntsh.dylib.12.1 /opt/oracle/instantclient_12_2/libclntsh.dylib
ln -s /opt/oracle/instantclient_12_2/libocci.dylib.12.1 /opt/oracle/instantclient_12_2/libocci.dylib
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;One more step is necessary for macosx.&lt;/p&gt;

&lt;p&gt;You have to add your machine name in your /etc/hosts for the 127.0.0.1&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;127.0.0.1 localhost YOURMACHINENAME
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;install-the-package&#34;&gt;Install the package&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;go get -u cd gopkg.in/rana/ora.v4
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You should be all good!&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>