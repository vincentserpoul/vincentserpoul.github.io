<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>a taste of wasm | VS tech corner</title>
<meta name="keywords" content="wasm, golang">
<meta name="description" content="golang 1.11 is out, let&#39;s try wasm">
<meta name="author" content="Me">
<link rel="canonical" href="https://vincentserpoul.github.io/post/playwithwasm-golang/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.ec8da366ca2fb647537ccb7a8f6fa5b4e9cd3c7a0d3171dd2d3baad1e49c8bfc.css" integrity="sha256-7I2jZsovtkdTfMt6j2&#43;ltOnNPHoNMXHdLTuq0eSci/w=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js" integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://vincentserpoul.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://vincentserpoul.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://vincentserpoul.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://vincentserpoul.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://vincentserpoul.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-81802018-1', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content="a taste of wasm" />
<meta property="og:description" content="golang 1.11 is out, let&#39;s try wasm" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://vincentserpoul.github.io/post/playwithwasm-golang/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2018-08-27T23:22:00&#43;08:00" />
<meta property="article:modified_time" content="2018-08-27T23:22:00&#43;08:00" /><meta property="og:site_name" content="Vincent Serpoul" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="a taste of wasm"/>
<meta name="twitter:description" content="golang 1.11 is out, let&#39;s try wasm"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://vincentserpoul.github.io/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "a taste of wasm",
      "item": "https://vincentserpoul.github.io/post/playwithwasm-golang/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "a taste of wasm",
  "name": "a taste of wasm",
  "description": "golang 1.11 is out, let's try wasm",
  "keywords": [
    "wasm", "golang"
  ],
  "articleBody": "Here it is, go 1.11 is out, and with it a new compilation target, Web Assembly!\nLet’s try it out!\nThe test As dumb as it sounds, I needed a simple usecase to test this out. I decided to settle for the dumbest possible thing: a for loop incrementing a variable for 100000000 times.\nThe git repo Here it is\nI uploaded it as well on surge for you to see without the hassle\nAs far as I can see, and if you see something else, I’d be glad to know, Go is 70x faster than pure javascript… Crazy!\nLet’s all jump to wasm?! Not yet! A lot of things are missing right now and it is just out. First issue, the size of the wasm file, which is huge for what it does (thanks to garbage collection included in it, as it is not provided in the wasm VM yet).\nWhat’s next I will try the same thing with Rust, it should give us the same perf but with a lot smaller size.\nWASM is the future, be ready!\n",
  "wordCount" : "180",
  "inLanguage": "en",
  "datePublished": "2018-08-27T23:22:00+08:00",
  "dateModified": "2018-08-27T23:22:00+08:00",
  "author":{
    "@type": "Person",
    "name": "Me"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://vincentserpoul.github.io/post/playwithwasm-golang/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "VS tech corner",
    "logo": {
      "@type": "ImageObject",
      "url": "https://vincentserpoul.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://vincentserpoul.github.io/" accesskey="h" title="Home (Alt + H)">Home</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://vincentserpoul.github.io/tags/" title="tags">
                    <span>tags</span>
                </a>
            </li>
            <li>
                <a href="https://vincentserpoul.github.io/" title="vincentserpoul.github.io">
                    <span>vincentserpoul.github.io</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://vincentserpoul.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://vincentserpoul.github.io/post/">Posts</a></div>
    <h1 class="post-title">
      a taste of wasm
    </h1>
    <div class="post-description">
      golang 1.11 is out, let&#39;s try wasm
    </div>
    <div class="post-meta"><span title='2018-08-27 23:22:00 +0800 +08'>August 27, 2018</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Me

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#the-test" aria-label="The test">The test</a></li>
                <li>
                    <a href="#the-git-repo" aria-label="The git repo">The git repo</a></li>
                <li>
                    <a href="#lets-all-jump-to-wasm" aria-label="Let&amp;rsquo;s all jump to wasm?!">Let&rsquo;s all jump to wasm?!</a></li>
                <li>
                    <a href="#whats-next" aria-label="What&amp;rsquo;s next">What&rsquo;s next</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>Here it is, go 1.11 is out, and with it a new compilation target, Web Assembly!</p>
<p>Let&rsquo;s try it out!</p>
<h2 id="the-test">The test<a hidden class="anchor" aria-hidden="true" href="#the-test">#</a></h2>
<p>As dumb as it sounds, I needed a simple usecase to test this out.
I decided to settle for the dumbest possible thing: a for loop incrementing a variable for 100000000 times.</p>
<h2 id="the-git-repo">The git repo<a hidden class="anchor" aria-hidden="true" href="#the-git-repo">#</a></h2>
<p><a href="https://github.com/vincentserpoul/playwithwasm">Here it is</a></p>
<p><a href="https://playwithwasm-golang.surge.sh">I uploaded it as well on surge for you to see without the hassle</a></p>
<p>As far as I can see, and if you see something else, I&rsquo;d be glad to know, <strong>Go is 70x faster than pure javascript</strong>&hellip; Crazy!</p>
<h2 id="lets-all-jump-to-wasm">Let&rsquo;s all jump to wasm?!<a hidden class="anchor" aria-hidden="true" href="#lets-all-jump-to-wasm">#</a></h2>
<p>Not yet! A lot of things are missing right now and it is just out.
First issue, the size of the wasm file, which is huge for what it does (thanks to garbage collection included in it, as it is not provided in the wasm VM yet).</p>
<h2 id="whats-next">What&rsquo;s next<a hidden class="anchor" aria-hidden="true" href="#whats-next">#</a></h2>
<p>I will try the same thing with Rust, it should give us the same perf but with a lot smaller size.</p>
<p><em>WASM is the future, be ready!</em></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://vincentserpoul.github.io/tags/wasm/">wasm</a></li>
      <li><a href="https://vincentserpoul.github.io/tags/golang/">golang</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://vincentserpoul.github.io/post/golang-binary-everything/">
    <span class="title">« Prev Page</span>
    <br>
    <span>golang binaries</span>
  </a>
  <a class="next" href="https://vincentserpoul.github.io/post/gke-multi-accounts-clusters/">
    <span class="title">Next Page »</span>
    <br>
    <span>Using GKE with multiple accounts and clusters</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://vincentserpoul.github.io/">VS tech corner</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
